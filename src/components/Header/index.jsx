import "../Header/headerStyles.css";

let firstName, lastName;

const getInitials = (firstName) => {
  return firstName.charAt(0).toUpperCase();
};

const user = window.localStorage.getItem("user");

if (!!user) {
  const nameArr = user.split(" ");
  if (nameArr.length < 2) {
    firstName = nameArr[0];
    lastName = firstName.split("").pop();
  } else {
    firstName = nameArr[0];
    lastName = nameArr[1];
    console.log(firstName, lastName);
  }
} else {
  firstName = "U";
  lastName = "S";
}

export default function ChatHeader() {
  return (
    <div className="chat-header">
      <div className="chat-content">
        <div className="logo-container">
          <img className="logo-image" src="/logo.svg" />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="59"
            height="18"
            viewBox="0 0 59 18"
            fill="none"
          >
            <path
              d="M8.424 17.6161C6.776 17.6161 5.312 17.2561 4.032 16.5361C2.752 15.8001 1.76 14.7841 1.056 13.4881C0.352 12.1761 0 10.6881 0 9.02407C0 7.32807 0.368 5.82407 1.104 4.51207C1.84 3.20007 2.84 2.18407 4.104 1.46407C5.384 0.744071 6.8 0.384071 8.352 0.384071C9.6 0.384071 10.688 0.536071 11.616 0.840071C12.56 1.14407 13.464 1.56807 14.328 2.11207C14.456 2.17607 14.568 2.28807 14.664 2.44807C14.76 2.60807 14.808 2.78407 14.808 2.97607C14.808 3.24807 14.712 3.48007 14.52 3.67207C14.344 3.86407 14.104 3.96007 13.8 3.96007C13.624 3.96007 13.456 3.92007 13.296 3.84007C12.544 3.39207 11.792 3.05607 11.04 2.83207C10.288 2.60807 9.472 2.49607 8.592 2.49607C7.376 2.49607 6.28 2.75207 5.304 3.26407C4.328 3.77607 3.56 4.52807 3 5.52007C2.456 6.49607 2.184 7.66407 2.184 9.02407C2.184 10.2721 2.44 11.3921 2.952 12.3841C3.48 13.3601 4.232 14.1361 5.208 14.7121C6.2 15.2721 7.368 15.5521 8.712 15.5521C10.216 15.5521 11.616 15.2001 12.912 14.4961V10.1521H8.952C8.68 10.1521 8.448 10.0561 8.256 9.86407C8.064 9.67207 7.968 9.44007 7.968 9.16807C7.968 8.89607 8.064 8.66407 8.256 8.47207C8.448 8.28007 8.68 8.18407 8.952 8.18407H13.68C14 8.18407 14.272 8.29607 14.496 8.52007C14.72 8.74407 14.832 9.01607 14.832 9.33607V14.7841C14.832 15.1201 14.744 15.4241 14.568 15.6961C14.408 15.9521 14.192 16.1441 13.92 16.2721C12.128 17.1681 10.296 17.6161 8.424 17.6161Z"
              fill="#022B7F"
            />
            <path
              d="M19.1241 17.4961C18.8041 17.4961 18.5401 17.3921 18.3321 17.1841C18.1401 16.9761 18.0441 16.7201 18.0441 16.4161C18.0441 16.2881 18.0841 16.1281 18.1641 15.9361L24.2841 1.48807C24.4121 1.20007 24.5881 0.968071 24.8121 0.79207C25.0521 0.600071 25.3401 0.504071 25.6761 0.504071H25.9161C26.2521 0.504071 26.5321 0.600071 26.7561 0.79207C26.9961 0.968071 27.1801 1.20007 27.3081 1.48807L33.4281 15.9361C33.5081 16.1281 33.5481 16.2881 33.5481 16.4161C33.5481 16.7201 33.4441 16.9761 33.2361 17.1841C33.0441 17.3921 32.7881 17.4961 32.4681 17.4961C32.2441 17.4961 32.0361 17.4401 31.8441 17.3281C31.6681 17.2001 31.5321 17.0321 31.4361 16.8241L29.8761 13.0801H21.7161L20.1561 16.8241C20.0601 17.0321 19.9161 17.2001 19.7241 17.3281C19.5481 17.4401 19.3481 17.4961 19.1241 17.4961ZM22.5561 11.0881H29.0361L25.7961 3.28807L22.5561 11.0881Z"
              fill="#022B7F"
            />
            <path
              d="M38.1583 17.4961C37.8543 17.4961 37.5983 17.3921 37.3903 17.1841C37.1823 16.9761 37.0783 16.7201 37.0783 16.4161V1.60807C37.0783 1.30407 37.1823 1.04807 37.3903 0.840071C37.5983 0.616071 37.8543 0.504071 38.1583 0.504071C38.4623 0.504071 38.7183 0.616071 38.9263 0.840071C39.1503 1.04807 39.2623 1.30407 39.2623 1.60807V16.4161C39.2623 16.7201 39.1503 16.9761 38.9263 17.1841C38.7183 17.3921 38.4623 17.4961 38.1583 17.4961Z"
              fill="#022B7F"
            />
            <path
              d="M43.8741 17.4961C43.5541 17.4961 43.2901 17.3921 43.0821 17.1841C42.8901 16.9761 42.7941 16.7201 42.7941 16.4161C42.7941 16.2881 42.8341 16.1281 42.9141 15.9361L49.0341 1.48807C49.1621 1.20007 49.3381 0.968071 49.5621 0.79207C49.8021 0.600071 50.0901 0.504071 50.4261 0.504071H50.6661C51.0021 0.504071 51.2821 0.600071 51.5061 0.79207C51.7461 0.968071 51.9301 1.20007 52.0581 1.48807L58.1781 15.9361C58.2581 16.1281 58.2981 16.2881 58.2981 16.4161C58.2981 16.7201 58.1941 16.9761 57.9861 17.1841C57.7941 17.3921 57.5381 17.4961 57.2181 17.4961C56.9941 17.4961 56.7861 17.4401 56.5941 17.3281C56.4181 17.2001 56.2821 17.0321 56.1861 16.8241L54.6261 13.0801H46.4661L44.9061 16.8241C44.8101 17.0321 44.6661 17.2001 44.4741 17.3281C44.2981 17.4401 44.0981 17.4961 43.8741 17.4961ZM47.3061 11.0881H53.7861L50.5461 3.28807L47.3061 11.0881Z"
              fill="#022B7F"
            />
          </svg>
        </div>
        <div className="chat-profile">
          <a className="avatar-logo" title={user}>
            {getInitials(firstName)}
          </a>
          <p className="chat-profile-name">{user}</p>
          <p></p>
        </div>
      </div>
    </div>
  );
}
